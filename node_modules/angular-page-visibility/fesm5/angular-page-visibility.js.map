{"version":3,"file":"angular-page-visibility.js","sources":["ng://angular-page-visibility/lib/angular-page-visibility.state.enum.ts","ng://angular-page-visibility/lib/angular-page-visibility.service.ts","ng://angular-page-visibility/lib/angular-page-visibility.decorators.ts","ng://angular-page-visibility/lib/angular-page-visibility.module.ts","ng://angular-page-visibility/public_api.ts","ng://angular-page-visibility/angular-page-visibility.ts"],"sourcesContent":["export enum AngularPageVisibilityStateEnum {\n  VISIBLE,\n  HIDDEN,\n  PRERENDER,\n  UNLOADED\n}\n","import { Injectable } from \"@angular/core\";\nimport { Observable, Subject } from \"rxjs\";\nimport { AngularPageVisibilityStateEnum } from \"./angular-page-visibility.state.enum\";\n\nclass HiddenKeyConstant {\n  static DEFAULT = \"hidden\";\n  static MS = \"msHidden\";\n  static WEB_KIT = \"webkitHidden\";\n}\n\nclass VisibilityStatusConstant {\n  static VISIBLE = \"visible\";\n  static HIDDEN = \"hidden\";\n  static PRERENDER = \"prerender\";\n  static UNLOADED = \"unloaded\";\n}\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class AngularPageVisibilityService {\n  private onPageVisibleSource: Subject<void> = new Subject<void>();\n  private onPageHiddenSource: Subject<void> = new Subject<void>();\n  private onPagePrerenderSource: Subject<void> = new Subject<void>();\n  private onPageUnloadedSource: Subject<void> = new Subject<void>();\n  private onPageVisibilityChangeSource: Subject<\n    AngularPageVisibilityStateEnum\n  > = new Subject<AngularPageVisibilityStateEnum>();\n  private hidden: string;\n  private visibilityChange: string;\n  private visibilityState: string;\n  private document: Document;\n  $onPageVisible: Observable<void> = this.onPageVisibleSource.asObservable();\n  $onPageHidden: Observable<void> = this.onPageHiddenSource.asObservable();\n  $onPagePrerender: Observable<\n    void\n  > = this.onPagePrerenderSource.asObservable();\n  $onPageUnloaded: Observable<void> = this.onPageUnloadedSource.asObservable();\n  $onPageVisibilityChange: Observable<\n    AngularPageVisibilityStateEnum\n  > = this.onPageVisibilityChangeSource.asObservable();\n\n  constructor() {\n    this.addEventListenerVibilityChange();\n  }\n\n  isPageVisible(): boolean {\n    return (\n      VisibilityStatusConstant.VISIBLE === this.getVisibilityState() ||\n      !this.isHidden()\n    );\n  }\n\n  isPageHidden(): boolean {\n    return (\n      VisibilityStatusConstant.HIDDEN === this.getVisibilityState() ||\n      this.isHidden()\n    );\n  }\n\n  isPagePrerender(): boolean {\n    return VisibilityStatusConstant.PRERENDER === this.getVisibilityState();\n  }\n\n  isPageUnloaded(): boolean {\n    return VisibilityStatusConstant.UNLOADED === this.getVisibilityState();\n  }\n\n  private isHidden(): boolean {\n    return document[this.hidden];\n  }\n\n  private getVisibilityState(): string {\n    return document[this.visibilityState];\n  }\n\n  private defineBrowserSupport() {\n    if (typeof document[HiddenKeyConstant.DEFAULT] !== \"undefined\") {\n      // Opera 12.10 and Firefox 18 and later support\n      this.hidden = HiddenKeyConstant.DEFAULT;\n      this.visibilityChange = \"visibilitychange\";\n      this.visibilityState = \"visibilityState\";\n    } else if (typeof document[HiddenKeyConstant.MS] !== \"undefined\") {\n      this.hidden = HiddenKeyConstant.MS;\n      this.visibilityChange = \"msvisibilitychange\";\n      this.visibilityState = \"msVisibilityState\";\n    } else if (typeof document[HiddenKeyConstant.WEB_KIT] !== \"undefined\") {\n      this.hidden = HiddenKeyConstant.WEB_KIT;\n      this.visibilityChange = \"webkitvisibilitychange\";\n      this.visibilityState = \"webkitVisibilityState\";\n    }\n  }\n\n  private addEventListenerVibilityChange(): void {\n    this.defineBrowserSupport();\n    document.addEventListener(\n      this.visibilityChange,\n      () => {\n        const vibilityState = this.getVisibilityState();\n        switch (vibilityState) {\n          case VisibilityStatusConstant.VISIBLE:\n            this.onPageVisibilityChangeSource.next(\n              AngularPageVisibilityStateEnum.VISIBLE\n            );\n            this.onPageVisibleSource.next();\n            break;\n          case VisibilityStatusConstant.HIDDEN:\n            this.onPageVisibilityChangeSource.next(\n              AngularPageVisibilityStateEnum.HIDDEN\n            );\n            this.onPageHiddenSource.next();\n            break;\n          case VisibilityStatusConstant.PRERENDER:\n            this.onPageVisibilityChangeSource.next(\n              AngularPageVisibilityStateEnum.PRERENDER\n            );\n            this.onPagePrerenderSource.next();\n            break;\n          case VisibilityStatusConstant.UNLOADED:\n            this.onPageVisibilityChangeSource.next(\n              AngularPageVisibilityStateEnum.UNLOADED\n            );\n            this.onPageUnloadedSource.next();\n            break;\n          default:\n            if (this.isHidden()) {\n              this.onPageVisibilityChangeSource.next(\n                AngularPageVisibilityStateEnum.HIDDEN\n              );\n              this.onPageHiddenSource.next();\n            } else {\n              this.onPageVisibilityChangeSource.next(\n                AngularPageVisibilityStateEnum.VISIBLE\n              );\n              this.onPageVisibleSource.next();\n            }\n        }\n      },\n      false\n    );\n  }\n}\n","import { Injector, StaticProvider } from '@angular/core';\nimport { AngularPageVisibilityService } from './angular-page-visibility.service';\nimport { AngularPageVisibilityStateEnum } from './angular-page-visibility.state.enum';\nimport { Subscription } from 'rxjs';\n\nconst providers: StaticProvider[] = [\n  { provide: AngularPageVisibilityService, deps: [] },\n];\nconst injector = Injector.create({ providers: providers });\nconst pageVisibilityService = injector.get(AngularPageVisibilityService);\n\nexport function OnPageVisibilityChange(): MethodDecorator {\n  return function(\n    target: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originalMethod = descriptor.value;\n    let onPageHiddenSubscription: Subscription;\n    if (!target.ngOnInit) {\n      buildNewMethodNgOnInit(target);\n    }\n    const originalNgOnInit = target.ngOnInit;\n    target.ngOnInit = function(...args) {\n      onPageHiddenSubscription = pageVisibilityService.$onPageVisibilityChange.subscribe(\n        (visibilityState: AngularPageVisibilityStateEnum) =>\n          originalMethod.call(this, [visibilityState]),\n      );\n      if (originalNgOnInit) {\n        originalNgOnInit.call(this, args);\n      }\n    };\n    if (!target.ngOnDestroy) {\n      buildNewMethodNgOnDestroy(target);\n    }\n    const originalNgOnDestroy = target.ngOnDestroy;\n    target.ngOnDestroy = function(...args) {\n      onPageHiddenSubscription.unsubscribe();\n      if (originalNgOnDestroy) {\n        originalNgOnDestroy.call(this, args);\n      }\n    };\n  };\n}\n\nexport function OnPageHidden(): MethodDecorator {\n  return function(\n    target: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originalMethod = descriptor.value;\n    let onPageHiddenSubscription: Subscription;\n    if (!target.ngOnInit) {\n      buildNewMethodNgOnInit(target);\n    }\n    const originalNgOnInit = target.ngOnInit;\n    target.ngOnInit = function(...args) {\n      onPageHiddenSubscription = pageVisibilityService.$onPageHidden.subscribe(\n        () => originalMethod.call(this),\n      );\n      if (originalNgOnInit) {\n        originalNgOnInit.call(this, args);\n      }\n    };\n    if (!target.ngOnDestroy) {\n      buildNewMethodNgOnDestroy(target);\n    }\n    const originalNgOnDestroy = target.ngOnDestroy;\n    target.ngOnDestroy = function(...args) {\n      onPageHiddenSubscription.unsubscribe();\n      if (originalNgOnDestroy) {\n        originalNgOnDestroy.call(this, args);\n      }\n    };\n  };\n}\n\nexport function OnPageVisible(): MethodDecorator {\n  return function(\n    target: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originalMethod = descriptor.value;\n    if (!target.ngOnInit) {\n      buildNewMethodNgOnInit(target);\n    }\n    const originalNgOnInit = target.ngOnInit;\n    let onPageVisibleSubscription: Subscription;\n    target.ngOnInit = function(...args) {\n      onPageVisibleSubscription = pageVisibilityService.$onPageVisible.subscribe(\n        () => originalMethod.call(this),\n      );\n      if (originalNgOnInit) {\n        originalNgOnInit.call(this, args);\n      }\n    };\n    if (!target.ngOnDestroy) {\n      buildNewMethodNgOnDestroy(target);\n    }\n    const originalNgOnDestroy = target.ngOnDestroy;\n    target.ngOnDestroy = function(...args) {\n      onPageVisibleSubscription.unsubscribe();\n      if (originalNgOnDestroy) {\n        originalNgOnDestroy.call(this, args);\n      }\n    };\n  };\n}\n\nexport function OnPagePrerender(): MethodDecorator {\n  return function(\n    target: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originalMethod = descriptor.value;\n    let onPagePrerenderSubscription: Subscription;\n    if (!target.ngOnInit) {\n      buildNewMethodNgOnInit(target);\n    }\n    const originalNgOnInit = target.ngOnInit;\n    target.ngOnInit = function(...args) {\n      onPagePrerenderSubscription = pageVisibilityService.$onPagePrerender.subscribe(\n        () => originalMethod.call(this),\n      );\n      if (originalNgOnInit) {\n        originalNgOnInit.call(this, args);\n      }\n    };\n    if (!target.ngOnDestroy) {\n      buildNewMethodNgOnDestroy(target);\n    }\n    const originalNgOnDestroy = target.ngOnDestroy;\n    target.ngOnDestroy = function(...args) {\n      onPagePrerenderSubscription.unsubscribe();\n      if (originalNgOnDestroy) {\n        originalNgOnDestroy.call(this, args);\n      }\n    };\n  };\n}\n\nexport function OnPageUnloaded(): MethodDecorator {\n  return function(\n    target: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originalMethod = descriptor.value;\n    let onPageUnloadedSubscription: Subscription;\n    if (!target.ngOnInit) {\n      buildNewMethodNgOnInit(target);\n    }\n    const originalNgOnInit = target.ngOnInit;\n    target.ngOnInit = function(...args) {\n      onPageUnloadedSubscription = pageVisibilityService.$onPageUnloaded.subscribe(\n        () => originalMethod.call(this),\n      );\n      if (originalNgOnInit) {\n        originalNgOnInit.call(this, args);\n      }\n    };\n    if (!target.ngOnDestroy) {\n      buildNewMethodNgOnDestroy(target);\n    }\n    const originalNgOnDestroy = target.ngOnDestroy;\n    target.ngOnDestroy = function(...args) {\n      onPageUnloadedSubscription.unsubscribe();\n      if (originalNgOnDestroy) {\n        originalNgOnDestroy.call(this, args);\n      }\n    };\n  };\n}\n\nfunction buildNewMethodNgOnInit(target: any) {\n  newMethod(target, 'ngOnInit');\n}\n\nfunction buildNewMethodNgOnDestroy(target: any) {\n  newMethod(target, 'ngOnDestroy');\n}\n\nfunction newMethod(target: any, name: string) {\n  Object.defineProperty(target, name, {\n    value: function(...args) {},\n    writable: true,\n  });\n}\n","import { NgModule } from '@angular/core';\nimport { AngularPageVisibilityService } from './angular-page-visibility.service';\n\n@NgModule({\n  imports: [],\n  declarations: [],\n  providers: [AngularPageVisibilityService],\n  exports: []\n})\nexport class AngularPageVisibilityModule { }\n","/*\n * Public API Surface of angular-page-visibility-lib\n */\n\nexport * from './lib/angular-page-visibility.state.enum';\nexport * from './lib/angular-page-visibility.service';\nexport* from './lib/angular-page-visibility.decorators';\nexport * from './lib/angular-page-visibility.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}